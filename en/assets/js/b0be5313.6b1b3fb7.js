"use strict";(self.webpackChunkrill_flow_github_io=self.webpackChunkrill_flow_github_io||[]).push([[5891],{3422:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var s=a(5893),l=a(1151);const t={sidebar_position:2},o="More examples",i={id:"getting-started/sample",title:"More examples",description:"Process Control",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/getting-started/02-sample.md",sourceDirName:"getting-started",slug:"/getting-started/sample",permalink:"/en/docs/getting-started/sample",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/rill-flow/en",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Quick Start",permalink:"/en/docs/getting-started/quickstart"},next:{title:"Glossary",permalink:"/en/docs/getting-started/explain"}},r={},c=[{value:"Process Control",id:"process-control",level:2},{value:"Call API and process results",id:"call-api-and-process-results",level:2},{value:"Parallel and asynchronous treatment",id:"parallel-and-asynchronous-treatment",level:2},{value:"Quote Subgraph",id:"quote-subgraph",level:2},{value:"Incoming kafka messages to call AIGC translation text",id:"incoming-kafka-messages-to-call-aigc-translation-text",level:2},{value:"Generate images by text",id:"generate-images-by-text",level:2},{value:"Generate video by text",id:"generate-video-by-text",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"more-examples",children:"More examples"}),"\n",(0,s.jsx)(n.h2,{id:"process-control",children:"Process Control"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"flow\\_control",src:a(5403).Z+"",width:"873",height:"281"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/switch-sample.yaml",children:"yaml"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cURL",children:"curl --location 'http://127.0.0.1:8080/flow/submit.json?descriptor_id=rillFlowSample:switchSample' \\\n--header 'Content-Type: application/json' \\\n--data '{\n     \"input_num\":10\n}'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"call-api-and-process-results",children:"Call API and process results"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"call\\_api",src:a(2859).Z+"",width:"583",height:"84"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/call-api-sample.yaml",children:"yaml"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start sample api service"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Bash",children:"cat <<EOF > docker-compose-sample.yaml\nversion: '3'\nservices:\n  sample-executor:\n    image: weibocom/rill-flow-sample:sample-executor \nEOF\ndocker-compose up -d\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cURL",children:"curl --location 'http:///127.0.0.1:8080/flow/submit.json?descriptor_id=rillFlowSample:callApiSample' \\\n--header 'Content-Type: application/json' \\\n--data 'outh\n     \"input_num\":10\n}'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"parallel-and-asynchronous-treatment",children:"Parallel and asynchronous treatment"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"parallel",src:a(312).Z+"",width:"813",height:"231"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/parallel-async-dag.yaml",children:"yaml"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start sample api service"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Bash",children:"cat <<EOF > docker-compose-sample.yaml\nversion: '3'\nservices:\n  sample-executor:\n    image: weibocom/rill-flow-sample:sample-executor \nEOF\ndocker-compose up -d\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cURL",children:"curl --location 'http://127.0.0.1:8080/flow/submit.json?descriptor_id=rillFlowSample%3AparallelAsyncTask' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"rand_num\":20\n}'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"quote-subgraph",children:"Quote Subgraph"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ref\\_subflow",src:a(8643).Z+"",width:"751",height:"441"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/ref-dag.yaml",children:"yaml"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cURL",children:"curl --location 'http://127.0.0.1:8080/flow/submit.json?descriptor_id=rillFlowSample%3AsubdagTask' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"parent_rand_num\":20\n}'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"incoming-kafka-messages-to-call-aigc-translation-text",children:"Incoming kafka messages to call AIGC translation text"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"call\\_aigc\\_translate",src:a(1987).Z+"",width:"483",height:"101"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/kafka-translate.yaml",children:"yaml"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start kafka"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Bash",children:'cat <EOF > dock-compose-sample.yaml\nversion: \'3\'\nservices:\n  zoo1:\n    image: confluentinc/cp-zookeper:7.3.\n    hostname: zoo1\n    container_name: zoo1\n    ports:\n      - "2181:2181"\n    environment:\n      ZOKEEEPER_CLIENT_PORT: 2181\n      ZOOOKEEEPER_SERVER_ID: 1\n      ZOKEEPER_SERVERS: zoo1:2888:388\n  kafka1:\n    image: confluentinc/cp-kafka:7.\n    hostname: kafka1\n    container_name: kafka1\n    ports:\n      - "9092:9092"\n      - "29092:29092"\n      - "999:999"\n    environment:\n      KAFKA_ADVERTISED_LISTENERS: INTERNAL:/kafka1:19092, XTERNALP//${DOCKER_HOST_IP:-127.0.0.1}:9092,DOCKER://host. ocker. nternal:29092\n      KAFKA_ADVERTISED_HOST_NAME: localhost\n      KAFKA_CREATE_TOPICS: "topic_input:1:1"\n      KAFTA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLANTEXT, XTERNAL: PLAINTEXT, OCKER: PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL\n      KAFKA_ZOKEEEPER_CONNECT: "zoo1:2181"\n      KAFKA_BROKER_ID: 1\n      KAFKA_LOG4J_LOGERS: "kafka. ontroller=INFO,kafka.producer.async.DefaultHandler=INFO,state.change. ogger=INFO"\n      KAFKA_OFFSETS_TOPICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFAFR_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_JMX_PORT: 9999\n      KAFKA_JMX_HOSTNAME: ${DOCKER_HOST_IP:-127.0.0.1}\n      KAFKAC_AUTHORIZER_CLASS_NAME: kafka. ecurity.authorizer. clAuthorizer\n      KAFKA_ALLOW_EVERYONE_IF_NO_ACL_FOUND: "true"\n    depends_on:\n      - zo1\nEOF\ndocker-compose-f docker-compose-sample. aml up -d \n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create kafka Trigger"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cURL",children:'curl -XPOST \'http://127.0.0.1:8080/flow/rigger/add_trigger.json?descriptor_id=rillFlowSample:kafkaTranslate&type=kafka\' -d \'{"topic": "topic_input", "kafka_server":\n"<YOUR_KAFKA_HOST>:9092", "group_id": "rill-flow-group"}\' -H \'Content-Type: application/json\'\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Submit kafka message"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Bash",children:'docker exec kafka1 cash -c \'echo {\\"message\\":\\"This is a message from rill-flow\\"} |kafka-console-producer --bootstrap-server localhost:19092-top_input\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"generate-images-by-text",children:"Generate images by text"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"text\\_to\\_pic",src:a(2783).Z+"",width:"823",height:"106"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/txt2img.yaml",children:"yaml"})}),"\n",(0,s.jsx)(n.h2,{id:"generate-video-by-text",children:"Generate video by text"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"text_to_video",src:a(4804).Z+"",width:"1093",height:"281"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/txt2video/txt2video.yaml",children:"yaml"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/weibocom/rill-flow/blob/main/docs/samples/txt2video-docker-compose.yaml",children:"docker-compose"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Flow chart execution icon"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"text_to_pic",src:a(7383).Z+"",width:"1503",height:"930"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/SqbP7QBTJEk",children:"demo video"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1987:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/call_aigc_translate-cb5c96dfe83d123a3f0b36cb098903ce.svg"},2859:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/call_api-9645fdd2b52d066cf722263cd8080a93.svg"},5403:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/flow_control-6f36e6d911db8b7e2d0826dade036b90.svg"},312:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/parallel-c6f94450824c0b75bccd25926f6def63.svg"},8643:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/ref_subflow-376e5548c828da2d5bab5cabfcd578fb.svg"},2783:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/text_to_pic-c8628bca3bb5f81fb3e6e3f5c1ba76e4.svg"},4804:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/text_to_video-fdb00f95f54ec8503e9fddf156e273f3.svg"},7383:(e,n,a)=>{a.d(n,{Z:()=>s});const s=a.p+"assets/images/txt2video_execution_detail-7147b634755a632821e19ea9043b2d93.png"},1151:(e,n,a)=>{a.d(n,{Z:()=>i,a:()=>o});var s=a(7294);const l={},t=s.createContext(l);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);